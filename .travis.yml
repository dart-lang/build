# Created with https://github.com/dart-lang/mono_repo
language: dart

# Handcoded, need to update mono_repo to be able to include this. Based on
# https://github.com/travis-ci/travis-ci/issues/6683#issuecomment-251938932.
sudo: required
dist: trusty

dart:
  - dev

env:
  - PKG=e2e_example

jobs:
  include:
    - stage: build_1
      script: ./tool/build.sh
    - stage: build_2
      script: ./tool/build.sh

# Only building master means that we don't run two builds for each pull request.
branches:
  only: [master]

cache:
 directories:
   - e2e_example/.dart_tool
   - $HOME/.pub-cache
